transfer_claims = {
    kind = directed
    cost = 0

	# icon = "gfx/interface/icons/central_identity_pillars_icons/unused/research_conglomerate.dds"
	icon = "gfx/interface/icons/war_goals/unused/force_recognition.dds"

	flags = {
		can_be_enforced
	}

	maintenance_paid_by = target_country
	usage_limit = once_per_side

	required_inputs = {
		strategic_region
    }

    unlocked_by_technologies = {
        international_relations
    }

	visible = {
		# always = no
	}

	strategic_region_valid_trigger = {
		scope:input = {
			any_scope_state = {
				has_claim_by = root
			}
		}
		scope:other_country = {
			has_interest_marker_in_region = scope:input
		}
	}

	possible = {
		number_of_claims > 0
		aggressive_diplomatic_plays_permitted = yes
	}

    can_ratify = {
        
    }

    on_entry_into_force = {
		every_state_region = {
			limit = {
				any_scope_state = {
					has_claim_by = scope:article_options.source_country
				}
				region = scope:article_options.input_strategic_region
			}
			remove_claim = scope:article_options.source_country
			add_claim = scope:article_options.target_country
		}
	}

	on_withdrawal = {}
	on_break = {
		
	}

	ai = {

		treaty_categories = {
			expansion
		}

		evaluation_chance = {
			value = 0

			if = {
				limit = {
					country_rank >= rank_value:unrecognized_major_power
				}
				add = {
					value = country_rank
					multiply = 0.025
				}
			}
		}

		article_ai_usage = {
			request
			offer
		}

		inherent_accept_score = {
			value = 0

			if = {
				limit = {
					exists = scope:article.input_strategic_region
				}

				if = {
					limit = {
						scope:source_country ?= this
					}

					scope:source_country = {
						save_temporary_scope_as = target
					}
					scope:target_country = {
						save_temporary_scope_as = actor
					}

					add = {
						desc = "DIPLOMATIC_ACCEPTANCE_BASE_ADDITIONAL"
						value = -10
					}

					add = {
						desc = "DIPLOMATIC_ACCEPTANCE_RANK"

						if = {
							limit = {
								country_rank >= rank_value:great_power
							}
							value = -25
						}
						else_if = {
							limit = {
								country_rank >= rank_value:major_power
							}
							value = -10
						}
					}

					add = {
						desc = "DIPLOMATIC_ACCEPTANCE_UNRECOGNIZED"

						if = {
							limit = {
								scope:target_country ?= {
									is_country_type = unrecognized
								}
							}
							value = -25
						}
					}

					subtract = {
						desc = "DIPLOMATIC_ACCEPTANCE_VALUE_OF_STATES_IN_REGION"

						if = {
							limit = {
								scope:article.input_strategic_region = {
									any_scope_state = {
										owner = scope:source_country
									}
								}
							}
							scope:article.input_strategic_region = {
								every_scope_state = {
									limit = {
										owner = scope:source_country
									}
									add = "this.ai_state_value(scope:source_country)"
									multiply = 0.5
									# max = 100
								}
							}
						}
					}

					add = {
						desc = "DIPLOMATIC_ACCEPTANCE_COLONIAL_EXPANSION"

						if = {
							limit = {
								has_strategy = ai_strategy_colonial_expansion
							}
							add = -25
						}
					}

					add = {
						desc = "DIPLOMATIC_ACCEPTANCE_ATTITUDE"
						if = {
							limit = {
								OR = {
									has_attitude = {
										who = scope:target_country
										attitude = disinterested
									}
									has_attitude = {
										who = scope:target_country
										attitude = wary
									}
								}
							}
							value = -300
						}
					}

					add = {
						desc = "concept_claims"
						scope:article.input_strategic_region = {
							every_scope_state = {
								limit = {
									has_claim_by = scope:source_country
								}
								add = -10
							}
						}
					}
				}
				else_if = {
					limit = {
						scope:target_country ?= this
						OR = {
							has_colonial_growth = yes
							scope:target_country.capital.region = {
								this = scope:article.input_strategic_region
							}
						}
					}

					scope:source_country = {
						save_temporary_scope_as = target
					}
					scope:target_country = {
						save_temporary_scope_as = actor
					}

					add = {
						desc = "DIPLOMATIC_ACCEPTANCE_VALUE_OF_STATES_IN_REGION"

						if = {
							limit = {
								scope:article.input_strategic_region = {
									any_scope_state = {
										owner = scope:target_country
									}
								}
							}
							scope:article.input_strategic_region = {
								every_scope_state = {
									limit = {
										owner = scope:target_country
									}
									add = "this.ai_state_value(scope:target_country)"
									multiply = 0.2
									max = 50
								}
							}
						}
					}

					add = {
						desc = "DIPLOMATIC_ACCEPTANCE_COLONIAL_EXPANSION"

						if = {
							limit = {
								NOT = { exists = scope:is_treaty_active }
								has_strategy = ai_strategy_colonial_expansion
							}
							add = 10
						}
					}

					add = {
						desc = "concept_claims"
						if = {
							limit = {
								scope:article.input_strategic_region = {
									any_scope_state = {
										has_claim_by = scope:target_country
									}
								}
							}
							value = 10
						}
					}

					add = {
						desc = "concept_claims"
						scope:article.input_strategic_region = {
							every_scope_state = {
								limit = {
									has_claim_by = scope:source_country
								}
								add = 5
							}
						}
					}

					add = {
						desc = "DIPLOMATIC_ACCEPTANCE_ATTITUDE"

						if = {
							limit = {
								NOT = { exists = scope:is_treaty_active }
								OR = {
									has_attitude = {
										who = scope:source_country
										attitude = disinterested
									}
									has_attitude = {
										who = scope:source_country
										attitude = wary
									}
								}
							}
							value = -300
						}
					}
				}
				else_if = {
					limit = { NOT = { exists = scope:is_treaty_active } }
					add = {
						desc = "DIPLOMATIC_ACCEPTANCE_DOES_NOT_WANT_ARTICLE"
						value = -300
					}
				}
			}
		}

		wargoal_score_multiplier = {
			value = 1
		}
	}

	wargoal = {
		execution_priority = 20
		contestion_type = control_target_country_capital

		maneuvers = {
			value = 0

			add = {
				scope:region = {
					every_scope_state = {
						limit = {
							has_claim_by = scope:target_country
						}
						add = 10
					}
				}
			}
			min = 10
			max = 50
		}

		infamy = {
			value = 0

			add = {
				scope:region = {
					every_scope_state = {
						limit = {
							OR = {
								has_claim_by = scope:target_country
								owner = scope:target_country
							}
						}
						add = state_population
					}
				}
			}
			multiply = 100
			divide = total_population

			# min = 1
		}
	}
}
