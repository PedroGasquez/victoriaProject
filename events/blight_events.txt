namespace = blight

#1843-45 blight in North America
blight.1 = {
	type = country_event
	placement = scope:blighted_state

	event_image = {
		video = "asia_dead_cattle_poor_harvest"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	title = blight.1.t
	desc = blight.1.d
	flavor = blight.1.f
	duration = 3


	immediate = {
		random_scope_state = {
			limit = {
				blight_zone_usa = yes
			}
			save_scope_as = blighted_state
		}
		random_scope_building = {
			limit = {
				is_building_type = building_subsistence_farms
			}
			save_scope_as = subsistence_farms_scope
		}
	}

	option = {
		name = blight.1.a
		default_option = yes
		show_as_tooltip = {
			every_scope_state = {
				limit = {
					blight_zone_usa = yes
				}
				state_region = {
					start_harvest_condition = h40_potato_blight
				}
			}
		}

	}
}
#1845 blight in europe
blight.2 = {
	type = country_event
	placement = scope:blighted_state

	event_image = {
		video = "asia_dead_cattle_poor_harvest"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	title = blight.2.t
	desc = blight.2.d
	flavor = blight.2.f
	duration = 3


	immediate = {
		random_scope_state = {
			limit = {
				blight_zone_europe = yes
			}
			save_scope_as = blighted_state
		}
	}

	option = {
		name = blight.2.a
		default_option = yes
		show_as_tooltip = {
			every_scope_state = {
				limit = {
					blight_zone_europe = yes
				}
				state_region = {
					start_harvest_condition = h40_potato_blight
				}
			}
		}

	}
}
#1846 blight in europe
blight.3 = {
	type = country_event
	placement = scope:blighted_state

	event_image = {
		video = "asia_dead_cattle_poor_harvest"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	title = blight.3.t
	desc = blight.3.d
	flavor = blight.3.f
	duration = 3


	immediate = {
		random_scope_state = {
			limit = {
				blight_zone_europe = yes
			}
			save_scope_as = blighted_state
		}
	}

	option = {
		name = blight.3.a
		default_option = yes
		show_as_tooltip = {
			every_scope_state = {
				limit = {
					blight_zone_regular = yes
				}
				state_region = {
					start_harvest_condition = h40_potato_blight
				}

			}
			every_scope_state = {
				limit = {
					blight_zone_severe = yes
				}
				state_region = {
					start_harvest_condition = h40_potato_blight
				}
			}
			every_scope_state = {
				limit = {
					blight_zone_catastrophic = yes
				}
				state_region = {
					start_harvest_condition = h40_potato_blight_catastrophic
				}
			}
		}
		if = {
			limit = { 
				c:GBR ?= root
			}
			add_journal_entry = {
				type = je_irish_famine
			}
		}
	}
}
#1846 grain failure
blight.4 = {
	type = country_event
	placement = scope:blighted_state

	event_image = {
		video = "europenorthamerica_russian_serfs"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/invention_icons/enclosure.dds"
	
	title = blight.4.t
	desc = blight.4.d
	flavor = blight.4.f
	duration = 3


	immediate = {
		random_scope_state = {
			limit = {
				state_is_in_europe = yes
			}
			save_scope_as = blighted_state
		}
	}

	option = {
		name = blight.4.a
		default_option = yes
		every_scope_state = {
			limit = {
				state_is_in_europe = yes
			}
			add_modifier = {
				name = grain_failure_modifier
				years = 1
			}
		}
	}
}
#GBR: irish exodus
blight.5 = {
	type = country_event
	placement = scope:leinster_scope

	event_image = {
		video = "asia_poor_people_moving"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"
	
	title = blight.5.t
	desc = blight.5.d
	flavor = blight.5.f
	duration = 3
	cooldown = {years = 10} #once

	immediate = {
		every_scope_state = {
			limit = {
				state_is_in_ireland = yes
			}
			add_modifier = {
				name = irish_famine_exodus
				years = 2
			}
		}
		s:STATE_LEINSTER.region_state:GBR = {
			save_scope_as = leinster_scope
		}
		s:STATE_NEW_YORK = {
			random_scope_state = {
				save_scope_as = new_york_scope
			}
		}
		s:STATE_MASSACHUSETTS = {
			random_scope_state = {
				save_scope_as = massachusetts_scope
			}
		}
		s:STATE_CONNECTICUT = {
			random_scope_state = {
				save_scope_as = connecticut_scope
			}
		}
		s:STATE_NEW_JERSEY = {
			random_scope_state = {
				save_scope_as = new_jersey_scope
			}
		}
		s:STATE_LANCASHIRE = {
			random_scope_state = {
				save_scope_as = liverpool_scope
			}
		}
		s:STATE_ILLINOIS = {
			random_scope_state = {
				save_scope_as = illinois_scope
			}
		}
		s:STATE_NEW_SOUTH_WALES = {
			random_scope_state = {
				limit = {
					owner = {
						NOT = {
							is_country_type = decentralized
						}
					}
				}
				save_scope_as = nsw_scope
			}
		}
		s:STATE_QUEENSLAND = {
			random_scope_state = {
				limit = {
					owner = {
						NOT = {
							is_country_type = decentralized
						}
					}
				}
				save_scope_as = queensland_scope
			}
		}
		cu:irish = {
			save_scope_as = irish_scope
		}
	}

	#okay
	option = {
		name = blight.5.a
		default_option = yes
		scope:liverpool_scope = {
			create_mass_migration = {
				origin = root
				culture = cu:irish
			}
		}
		scope:new_york_scope = {
			create_mass_migration = {
				origin = root
				culture = cu:irish
			}
		}
		scope:massachusetts_scope = {
			create_mass_migration = {
				origin = root
				culture = cu:irish
			}
		}
		scope:connecticut_scope = {
			create_mass_migration = {
				origin = root
				culture = cu:irish
			}
		}
		scope:new_jersey_scope = {
			create_mass_migration = {
				origin = root
				culture = cu:irish
			}
		}
		scope:nsw_scope = {
			create_mass_migration = {
				origin = root
				culture = cu:irish
			}
		}
		ai_chance = {
			base = 100
		}
	}
	#encourage
	option = {
		name = blight.5.b
		add_loyalists = {
			value = small_radicals
			culture = cu:british
			strata = middle
		}
		scope:new_york_scope = {
			create_mass_migration = {
				origin = root
				culture = cu:irish
			}
		}
		scope:massachusetts_scope = {
			create_mass_migration = {
				origin = root
				culture = cu:irish
			}
		}
		scope:connecticut_scope = {
			create_mass_migration = {
				origin = root
				culture = cu:irish
			}
		}
		scope:new_jersey_scope = {
			create_mass_migration = {
				origin = root
				culture = cu:irish
			}
		}
		scope:illinois_scope = {
			create_mass_migration = {
				origin = root
				culture = cu:irish
			}
		}
		scope:nsw_scope = {
			create_mass_migration = {
				origin = root
				culture = cu:irish
			}
		}
		scope:queensland_scope = {
			create_mass_migration = {
				origin = root
				culture = cu:irish
			}
		}
		ai_chance = {
			base = 0
		}
	}
	#discourage
	option = {
		name = blight.5.c
		irish_famine_deepen = yes
		add_radicals = {
			value = medium_radicals
			culture = cu:irish
		}
		scope:liverpool_scope = {
			create_mass_migration = {
				origin = root
				culture = cu:irish
			}
		}
		scope:new_york_scope = {
			create_mass_migration = {
				origin = root
				culture = cu:irish
			}
		}
		scope:massachusetts_scope = {
			create_mass_migration = {
				origin = root
				culture = cu:irish
			}
		}
		scope:nsw_scope = {
			create_mass_migration = {
				origin = root
				culture = cu:irish
			}
		}
		ai_chance = {
			base = 0
		}
	}
}
#GBR: irish demand food exports stop
blight.6 = {
	type = country_event
	placement = scope:irish_state_scope

	event_image = {
		video = "unspecific_vandalized_storefront"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"
	
	title = blight.6.t
	desc = blight.6.d
	flavor = blight.6.f
	duration = 3
	cooldown = {years = 10} #once

	immediate = {
		random_scope_state = {
			limit = {
				state_is_in_ireland = yes
			}
			save_scope_as = irish_state_scope
		}
		cu:irish = {
			save_scope_as = irish_scope
		}
	}

	#no
	option = {
		name = blight.6.a
		default_option = yes
		every_scope_state = {
			limit = {
				state_is_in_ireland = yes
			}
			add_radicals_in_state = {
				value = large_radicals
				culture = cu:irish
			}
		}
		irish_famine_deepen = yes
		ai_chance = {
			base = 100
		}
	}
	#yes
	option = {
		name = blight.6.b
		every_scope_state = {
			limit = {
				state_is_in_ireland = yes
			}
			add_modifier = {
				name = food_sales_halted_modifier
				years = 2
			}
			add_loyalists_in_state = {
				value = small_radicals
				culture = cu:irish
			}
		}
		ig:ig_landowners = {
			add_modifier = {
				name = ig_helped_irish_negative_modifier
				multiplier = 2
				years = 4
			}
		}
		irish_famine_ease = yes
		ai_chance = {
			base = 0
		}
	}
}
#GBR: charitable donations flow
blight.7 = {
	type = country_event
	placement = scope:irish_state_scope

	event_image = {
		video = "europenorthamerica_london_center"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_default.dds"
	
	title = blight.7.t
	desc = blight.7.d
	flavor = blight.7.f
	duration = 3
	cooldown = {years = 10} #once

	immediate = {
		random_scope_state = {
			limit = {
				state_is_in_ireland = yes
			}
			save_scope_as = irish_state_scope
		}
		s:STATE_HIGHLANDS.region_state:GBR = {
			save_scope_as = highlands_scope
		}
		cu:irish = {
			save_scope_as = irish_scope
		}
	}

	#cool
	option = {
		name = blight.7.a
		default_option = yes
		every_scope_state = {
			limit = {
				state_is_in_ireland = yes
			}
			add_modifier = {
				name = famine_internal_donations_modifier
				years = 2
			}
		}
		scope:highlands_scope = {
			add_modifier = {
				name = famine_internal_donations_modifier
				years = 2
				multiplier = 4
			}
		}
		irish_famine_ease = yes
		ai_chance = {
			base = 100
		}
	}

}
#GBR: Souperism
blight.8 = {
	type = country_event
	placement = scope:irish_state_scope

	event_image = {
		video = "southamerica_christianity"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/invention_icons/unused/secularism.dds"
	
	title = blight.8.t
	desc = blight.8.d
	flavor = blight.8.f
	duration = 3
	cooldown = {years = 10} #once

	immediate = {
		random_scope_state = {
			limit = {
				state_is_in_ireland = yes
			}
			save_scope_as = irish_state_scope
		}
		ig:ig_devout = {
			save_scope_as = devout_ig
		}
		rel:catholic = {
			save_scope_as = catholic_scope
		}
		rel:protestant = {
			save_scope_as = protestant_scope
		}
	}

	#thats not good
	option = {
		name = blight.8.a
		default_option = yes
		every_scope_state = {
			limit = {
				state_is_in_ireland = yes
			}
			add_radicals_in_state = {
				value = small_radicals
				culture = cu:irish
				religion = rel:catholic
			}
			convert_population = {
				target = rel:protestant
				value = 0.02
			}
			add_religion_standard_of_living_modifier = {
				religion = rel:catholic
				multiplier = -1
				years = 1
			}
		}
		irish_famine_deepen = yes
		ai_chance = {
			base = 100
		}
	}
	#actually yes lets convert them
	option = {
		name = blight.8.b
		every_scope_state = {
			limit = {
				state_is_in_ireland = yes
			}
			add_radicals_in_state = {
				value = medium_radicals
				culture = cu:irish
				religion = rel:catholic
			}
			convert_population = {
				target = rel:protestant
				value = 0.10
			}
			add_religion_standard_of_living_modifier = {
				religion = rel:catholic
				multiplier = -1
				years = 1
			}
			add_religion_standard_of_living_modifier = {
				religion = rel:protestant
				multiplier = 1
				years = 1
			}
		}
		ig:ig_devout = {
			add_modifier = {
				name = ig_converted_irish_positive_modifier
				years = 2
			}
		}
		custom_tooltip = {
			text = irish_famine_deepen_double
			irish_famine_deepen = yes
			irish_famine_deepen = yes
		}
		ai_chance = {
			base = 0
		}
	}
}
